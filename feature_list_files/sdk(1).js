function getCookie(e){var t=document.cookie,i=t.indexOf(" "+e+"=");if(-1==i&&(i=t.indexOf(e+"=")),-1==i)t=null;else{i=t.indexOf("=",i)+1;var s=t.indexOf(";",i);-1==s&&(s=t.length),t=unescape(t.substring(i,s))}return t}function setCookie(e,t,i){var s=new Date;s.setDate(s.getDate()+i);var n=escape(t)+(null==i?"":"; expires="+s.toUTCString());document.cookie=e+"="+n}jQuery.support.cors=!0;var UrcosmeAPI=function(){this.domain="api.urcosme.com",this.call=function(e,t,i,s){var n=navigator.appName.indexOf("Internet Explorer")>=0,o="http://"+this.domain+t;if(n){var a=parseFloat(/MSIE ([0-9\.]+)/.exec(navigator.appVersion));data_type="jsonp","GET"==e||a>=10||(i._method=e,e="GET"),t=t.replace(".json",".js?callback=?"),o="http://"+this.domain+t}else data_type="json";$.ajax({type:e,url:o,data:i,dataType:data_type,jsonp:"jsonpcallback",crossDomain:!0,success:function(e){s(e)}})},this.get=function(e,t,i){this.call("GET",e,t,i)},this.post=function(e,t,i){this.call("POST",e,t,i)},this.put=function(e,t,i){this.call("PUT",e,t,i)},this._delete=function(e,t,i){this.call("DELETE",e,t,i)},this.member_token=(getCookie("cosme4")||"").replace("\n",""),this.signed_in=!!getCookie("cosme4")&&!!getCookie("cosme_track"),this.redirect_to_sign_in=function(){location.href="http://www.urcosme.com/member/index?from="+encodeURIComponent(document.URL)},this.set_cookie=function(e,t,i){return setCookie(e,t,i)},this.get_cookie=function(e){return getCookie(e)},this.log_ga=function(e,t,i,s){"undefined"!=typeof ga?ga("send","event",e,t,i,s):"undefined"!=typeof _gaq&&_gaq.push(["_trackEvent",e,t,i,s])}};uc_api=new UrcosmeAPI,$(document).ready(function(){$("[uc-brand-favorite]").each(function(){var e=$(this),t=e.attr("uc-brand-favorite");uc_api.signed_in?(e.bind("uc:brand-favoriting",function(){uc_api.post("/brands/"+t+"/favorites.json",{member_token:uc_api.member_token},function(t){e.fadeOut(1e3,function(){e.addClass("favorited").hide().fadeIn(1e3),e.find("[uc-count]").html(t.favorites_count)}),e.css("cursor","auto"),e.trigger("uc:brand-favorited"),e.unbind("uc:brand-favoriting")})}),e.bind("click",function(){e.trigger("uc:brand-favoriting")})):e.bind("click",function(){alert("請先登入會員"),uc_api.redirect_to_sign_in()}),e.css("cursor","pointer"),uc_api.get("/brands/"+t+"/favorited.json",{member_token:uc_api.member_token},function(t){t.favorited&&(e.addClass("favorited"),e.unbind("uc:brand-favoriting"),e.css("cursor","auto")),e.find("[uc-count]").html(t.favorites_count)})})}),$(document).ready(function(){$("[uc-buylist-add]").length>0&&uc_api.signed_in&&uc_api.get("/member/buylists.json",{member_token:uc_api.member_token},function(e){for(var t=0;e.length>t;t++){var i=e[t],s=$("[uc-buylist-add="+i.product_id+"]");s.length>0&&(s.addClass("added"),s.unbind("uc:buylist-adding"),s.css("cursor","auto"))}}),$("[uc-buylist-add]").each(function(){var e=$(this);e.css("cursor","pointer");var t=e.attr("uc-buylist-add");uc_api.signed_in?e.bind("uc:buylist-adding",function(){uc_api.post("/products/"+t+"/buylists.json",{member_token:uc_api.member_token},function(){e.unbind("uc:buylist-adding"),e.trigger("uc:buylist-added"),e.css("cursor","auto"),e.fadeOut(500,function(){e.addClass("added"),e.fadeIn(500)})})}):e.bind("uc:buylist-adding",function(){alert("請先登入"),uc_api.redirect_to_sign_in()}),e.bind("click",function(){e.trigger("uc:buylist-adding")})})}),$(document).ready(function(){$("[uc-wishlist-add]").length>0&&uc_api.signed_in&&uc_api.get("/member/wishlists.json",{member_token:uc_api.member_token},function(e){for(var t=0;e.length>t;t++){var i=e[t],s=$("[uc-wishlist-add="+i.product_id+"]");s.length>0&&(s.addClass("added"),s.attr("uc-added-text")&&s.html(s.attr("uc-added-text")),s.unbind("uc:wishlist-adding"),s.css("cursor","auto"))}}),$("[uc-wishlist-add]").each(function(){var dom=$(this);dom.css("cursor","pointer");var product_id=dom.attr("uc-wishlist-add");uc_api.signed_in?dom.bind("uc:wishlist-adding",function(){uc_api.post("/products/"+product_id+"/wishlists.json",{member_token:uc_api.member_token},function(data){dom.unbind("uc:wishlist-adding"),dom.trigger("uc:wishlist-added"),dom.css("cursor","auto"),dom.fadeOut(500,function(){dom.addClass("added"),dom.attr("uc-added-text")&&dom.html(dom.attr("uc-added-text")),dom.fadeIn(500,function(){if(dom.attr("uc-slide-down")){var wishlist_id=data.wishlist.id;uc_api.get("/wishlists/"+wishlist_id+"/edit.json",{member_token:uc_api.member_token},function(data){var target=$(dom.attr("uc-slide-down"));target.hide().html(data.html),dom.trigger("uc:wishlist-slidedown:before"),target.slideDown(500,function(){dom.trigger("uc:wishlist-slidedown:after")});var form=target.find("form");form.bind("submit",function(f_data){return uc_api.post(form.attr("action"),form.serialize()+"&member_token="+uc_api.member_token,function(submit_data){dom.trigger("uc:wishlist:updated"),eval(submit_data.js),target.fadeOut(500)}),!1})})}})})})}):dom.bind("uc:wishlist-adding",function(){alert("請先登入"),uc_api.redirect_to_sign_in()}),dom.bind("click",function(){dom.trigger("uc:wishlist-adding")})})}),function(){$(function(){var e;return $("[uc-issue]").length>0&&(e=[],$("[uc-issue]").each(function(){return e.push($(this).attr("[uc-issue]"))}),uc_api.get("/issues.json",{ids:e},function(e){var t,i,s;for(t=0,s=[];e.length>t;)i=e[t],$("[uc-issue="+i.id+"]").html(i.name),s.push(t++);return s})),$("[uc-issue-add]").length>0&&uc_api.signed_in&&uc_api.get("/member/issues.json",{member_token:uc_api.member_token},function(e){var t,i,s,n;for(i=0,n=[];e.length>i;)s=e[i],t=$("[uc-issue-add="+s.id+"]"),t.length>0&&(t.addClass("added"),t.attr("uc-added-text")&&t.html(t.attr("uc-added-text")),t.unbind("uc:issue-adding"),t.css("cursor","auto")),n.push(i++);return n}),$("[uc-issue-add]").each(function(){var e,t;return e=$(this),e.css("cursor","pointer"),t=e.attr("uc-issue-add"),e.on("uc:issue-adding",function(){return uc_api.signed_in?uc_api.post("/member/add_issue.json",{id:t,member_token:uc_api.member_token},function(){return e.fadeOut(500,function(){return e.addClass("added"),e.attr("uc-added-text")&&e.html(e.attr("uc-added-text")),e.fadeIn(500)}),e.css("cursor","auto"),e.unbind("uc:issue-adding"),e.trigger("uc:issue-added")}):(alert("請先登入"),uc_api.redirect_to_sign_in())}),e.on("click",function(){return e.trigger("uc:issue-adding")})})})}.call(this),uc_api.assign_member=function(e,t){var i=e.id;if($("a[uc-member-mbd-url="+i+"]").attr("href",e.mbd_url),t.find('a[uc-member-mbd-url=""]').attr("href",e.mbd_url),$("[uc-member-avatar="+i+"]").html('<img src="'+e.avatar_url_50+'" alt="'+e.name+'" />'),t.find('[uc-member-avatar=""]').html('<img src="'+e.avatar_url_50+'" alt="'+e.name+'" />'),$("[uc-member-avatar-100="+i+"]").html('<img src="'+e.avatar_url_100+'" alt="'+e.name+'" />'),t.find('[uc-member-avatar-100=""]').html('<img src="'+e.avatar_url_100+'" alt="'+e.name+'" />'),$("[uc-member-name="+i+"]").html(e.name),t.find('[uc-member-name=""]').html(e.name),$("[uc-member-skin-icon="+i+"]").html('<img src="'+e.skin_icon+'" alt="'+e.skin+'" />'),t.find('[uc-member-skin-icon=""]').html('<img src="'+e.skin_icon+'" alt="'+e.skin+'" />'),$("[uc-member-skin="+i+"]").html(e.skin),t.find('[uc-member-skin=""]').html(e.skin),$("[uc-member-age-icon="+i+"]").html('<img src="'+e.age_icon+'" alt="'+e.age+'歲" />'),t.find('[uc-member-age-icon=""]').html('<img src="'+e.age_icon+'" alt="'+e.age+'歲" />'),$("[uc-member-age="+i+"]").html(e.age),t.find('[uc-member-age=""]').html(e.age),$("[uc-member-mynews-unread-count="+i+"]").html(e.mynews_unread_count),t.find('[uc-member-mynews-unread-count=""]').html(e.mynews_unread_count),e.prizes){var s="";$(e.prizes).each(function(){
  var e = this,
  current = "",
  t = e.prize_type + "-" + e.year,
  i = (new Date).getFullYear();
  today = new Date();
  publish_date = new Date("2014-12-29");
  newyear_date = new Date("2015-01-01");
  if(newyear_date > today && today >= publish_date) {
    current = (e.year == i) ? ' badge-current' : '';
  } else if(publish_date > today) {
    current = (e.year == i-1) ? ' badge-current' : '';
  } else if(today >= newyear_date) {
    current = (e.year >= i-1) ? ' badge-current' : '';
  } else {
    current = (e.year >= i-1) ? ' badge-current' : '';
  }
  s = s + '<div class="' + e.prize_type + " " + t + current + '" title="' + e.prize_desc + '"></div>';
}),$("[uc-member-prizes="+i+"]").html(s),t.find('[uc-member-prizes=""]').html(s)}t.trigger("uc:member-got",e)},uc_api.get_members=function(e){e=$(e);var t=[];if(e.find("[uc-member]").each(function(){t.push($(this).attr("uc-member"))}),t.length>0){var s={search:{ids:t},per:999,select:[]};e.find("[uc-member-prizes]").length>0&&s.select.push("prizes"),uc_api.get("/members.json",s,function(t){for(i=0;t.length>i;i++)uc_api.assign_member(t[i],e.find("[uc-member="+t[i].id+"]"))})}},$(document).ready(function(){uc_api.get_members(document)}),uc_api.build_inputs=function(e,t){if("true"!=t.attr("uc-inputs-build")){var i=t.attr("uc-value");if(t.attr("uc-input-radios"))for(var s=t.attr("uc-input-radios"),n=0;e.length>n;n++){var o=e[n][0]+""==i?'checked="checked"':"";t.append('<label><input type="radio" name="'+s+'" value="'+e[n][0]+'" '+o+" />"+e[n][1]+"</label>")}else{for(var n=0;e.length>n;n++)t.append('<option value="'+e[n][0]+'">'+e[n][1]+"</option>");i&&t.find("option[value="+i+"]").prop("selected",!0)}t.trigger("uc:inputs-build",e),t.attr("uc-inputs-build","true")}},uc_api.init_member_consts=function(){var e=$("[uc-member-const]");e.length>0&&uc_api.get("/members/constants.json",null,function(t){var i=["skins","educations","genders","jobs","job_types"];e.each(function(){var e=$(this),s=i.indexOf(e.attr("uc-member-const"));s>=0&&uc_api.build_inputs(t[i[s]],e)})})},$(document).ready(function(){uc_api.init_member_consts()}),uc_api.assign_review=function(e,t){var i=e.id;$("a[uc-review-mbd-url="+i+"]").attr("href",e.member.mbd_url),t.find('a[uc-review-mbd-url=""]').attr("href",e.member.mbd_url),$("[uc-review-avatar="+i+"]").html('<img src="'+e.member.avatar_url_50+'" alt="'+e.member_nickname+'" />'),t.find('[uc-review-avatar=""]').html('<img src="'+e.member.avatar_url_50+'" alt="'+e.member_nickname+'" />'),$("[uc-review-content-text="+i+"]").html(e.content_text),t.find('[uc-review-content-text=""]').html(e.content_text),$("a[uc-review-urcosme-url="+i+"]").attr("href",e.urcosme_url),t.find('a[uc-review-urcosme-url=""]').attr("href",e.urcosme_url),$("[uc-review-skin-icon="+i+"]").html('<img src="'+e.skin_icon+'" alt="'+e.skin+'" />'),t.find('[uc-review-skin-icon=""]').html('<img src="'+e.skin_icon+'" alt="'+e.skin+'" />'),$("[uc-review-skin-name="+i+"]").html(e.skin),t.find('[uc-review-skin-name=""]').html(e.skin),$("[uc-review-age-icon="+i+"]").html('<img src="'+e.age_icon+'" alt="" />'),t.find('[uc-review-age-icon=""]').html('<img src="'+e.age_icon+'" alt="" />'),$("[uc-review-age="+i+"]").html(e.age),t.find('[uc-review-age=""]').html(e.age),$("[uc-review-member-nickname="+i+"]").html(e.member.name),t.find('[uc-review-member-nickname=""]').html(e.member.name),$("[uc-review-score="+i+"]").html(e.score),t.find('[uc-review-score=""]').html(e.score),$("[uc-review-score-icons-html="+i+"]").html(e.score_icons_html),t.find('[uc-review-score-icons-html=""]').html(e.score_icons_html),t.trigger("uc:review-got",e)},uc_api.get_reviews=function(e){e=$(e);var t=[];e.find("[uc-review]").each(function(){t.push($(this).attr("uc-review"))}),t.length>0&&uc_api.get("/reviews.json",{search:{ids:t},per:999},function(t){for(i=0;t.length>i;i++)uc_api.assign_review(t[i],e.find("[uc-review="+t[i].id+"]"))})},$(document).ready(function(){uc_api.get_reviews(document)}),$(document).ready(function(){$("[uc-member-following]").length>0&&uc_api.signed_in&&uc_api.get("/member/followings.json",{member_token:uc_api.member_token},function(e){for(var t=0;e.length>t;t++){var i=e[t],s=$("[uc-member-following="+i.followed_member_id+"]");s.length>0&&(s.addClass("added"),s.unbind("uc:member-following"),s.css("cursor","auto"))}}),$("[uc-member-following]").each(function(){var e=$(this);e.css("cursor","pointer");var t=e.attr("uc-member-following");uc_api.signed_in?e.bind("uc:member-following",function(){uc_api.post("/members/"+t+"/followings.json",{member_token:uc_api.member_token},function(){e.unbind("uc:member-following"),e.trigger("uc:member-followed"),e.css("cursor","auto"),e.fadeOut(500,function(){e.addClass("added"),e.fadeIn(500)})})}):e.bind("uc:member-following",function(){alert("請先登入"),uc_api.redirect_to_sign_in()}),e.bind("click",function(){e.trigger("uc:member-following")})})}),uc_api.assign_product=function(e,t){var i=e.id;$("a[uc-product-url="+i+"]").attr("href",e.url),t.find('a[uc-product-url=""]').attr("href",e.url),$("[uc-product-img="+i+"]").html('<img src="'+e.img_url+'" title="'+e.brand.name+" "+e.name+'" alt="'+e.brand.name+" "+e.name+'" />'),t.find('[uc-product-img=""]').html('<img src="'+e.img_url+'" title="'+e.brand.name+" "+e.name+'" alt="'+e.brand.name+" "+e.name+'" />'),$("[uc-product-name-full="+i+"]").html(e.name_full),t.find('[uc-product-name-full=""]').html(e.name_full),$("[uc-product-name="+i+"]").html(e.name),t.find('[uc-product-name=""]').html(e.name),$("[uc-product-urcosme-exp="+i+"]").html(e.urcosme_exp),t.find('[uc-product-urcosme-exp=""]').html(e.urcosme_exp),$("[uc-product-reviews-count="+i+"]").html(e.reviews_count),t.find('[uc-product-reviews-count=""]').html(e.reviews_count),$("[uc-product-urcosme-exp-html="+i+"]").html(e.urcosme_exp_html),t.find('[uc-product-urcosme-exp-html=""]').html(e.urcosme_exp_html),$("[uc-product-attr-name="+i+"]").html(e.attr_name),t.find('[uc-product-attr-name=""]').html(e.attr_name),t.trigger("uc:product-got",e)},uc_api.get_products=function(e){e=$(e);var t=[];e.find("[uc-product]").each(function(){t.push($(this).attr("uc-product"))}),t.length>0&&uc_api.get("/products.json",{search:{ids:t},per:999},function(t){for(i=0;t.length>i;i++)uc_api.assign_product(t[i],e.find("[uc-product="+t[i].id+"]"))})},$(document).ready(function(){uc_api.get_products(document)}),uc_api.assign_brand=function(e,t){var i=e.id;$("[uc-brand-cname="+i+"]").html(e.cname),t.find('[uc-brand-cname=""]').html(e.cname),$("[uc-brand-ename="+i+"]").html(e.ename),t.find('[uc-brand-ename=""]').html(e.ename),$("[uc-brand-name="+i+"]").html(e.name),t.find('[uc-brand-name=""]').html(e.name),$("[uc-brand-logo-thumb="+i+"]").html('<img src="'+e.logo_urls.thumb+'" alt="'+e.name+'" />'),t.find('[uc-brand-logo-thumb=""]').html('<img src="'+e.logo_urls.thumb+'" alt="'+e.name+'" />'),t.trigger("uc:brand-got",e)},uc_api.get_brands=function(e){e=$(e);var t=[];e.find("[uc-brand]").each(function(){t.push($(this).attr("uc-brand"))}),t.length>0&&uc_api.get("/brands.json",{search:{ids:t},per:999},function(t){for(i=0;t.length>i;i++)uc_api.assign_brand(t[i],e.find("[uc-brand="+t[i].id+"]"))})},$(document).ready(function(){uc_api.get_brands(document)}),$(document).ready(function(){$("[uc-ga-click]").each(function(){var e=$(this);e.bind("click",function(){uc_api.log_ga(e.attr("uc-ga-click"),"click",e.attr("uc-ga-label")),e.trigger("uc:ga-clicked")})}),$("[uc-ga-imp]").each(function(){var e=$(this);uc_api.log_ga(e.attr("uc-ga-imp"),"impression",e.attr("uc-ga-label")),e.trigger("uc:ga-impressioned")})}),uc_api.init_fancybox=function(dom){var options={};dom.attr("data-fancybox")&&(options=eval("({"+dom.attr("data-fancybox")+"})")),dom.fancybox(options)},$(document).ready(function(){$("[data-fancybox]").each(function(){uc_api.init_fancybox($(this))})}),uc_api.flash_messages=function(){var e=$(".flash-messages").children();if(e.length>0){var t=($(window).width()-e.first().width())/2-20;e.css("position","absolute").css("left",t).css("position","fixed"),e.fadeIn(800),e.each(function(){var e=$(this);e.find("[data-close]").on("click",function(){return e.fadeOut(1e3,function(){e.remove()}),!1})})}},uc_api.alert=function(e,t){t=t||"notice",0==$(".flash-messages").length&&$("body").append("<div class='flash-messages'></div>"),$(".flash-messages").html(""),$(".flash-messages").append("<div class='alert alert-"+t+"' style='display:none;'>"+e+"<a href='#' data-close='true'>x</a></div>"),this.flash_messages()},$(document).ready(function(){uc_api.flash_messages()}),uc_api.trigger_city_select=function(e){e.each(function(){var e=$(this);e.attr("uc-value"),e.bind("uc:change-dists",function(t){var i=$(this).val(),s=$(e.attr("uc-dists")),t=s.attr("uc-value");uc_api.get("/cities/"+i+"/dists.json",null,function(e){s.html("");for(var i=0;e.length>i;i++){var n=e[i],o=t+""==n.id+""?' selected="selected"':"";s.append("<option"+o+' value="'+n.id+'">'+n.name+"</option>")}}),e.trigger("uc:dists-changed",s)}),0==e.children().length&&e.html("<option>選擇縣市</option>"),e.bind("change",function(){e.val()&&e.trigger("uc:change-dists")})}),uc_api.get("/cities.json",null,function(t){e.each(function(){for(var e=$(this),i=e.attr("uc-value"),s=0;t.length>s;s++){var n=t[s],o=n.id+""==i?' selected="selected"':"";e.append("<option"+o+' value="'+n.id+'">'+n.name+"</option>")}e.val()&&e.trigger("uc:change-dists"),e.trigger("uc:cities-changed")})})},$(document).ready(function(){var e=$("select[uc-cities]");e.length>0&&uc_api.trigger_city_select(e)}),uc_api.trigger_brands_select=function(e){e.each(function(){var e=$(this);e.attr("uc-value"),0==e.children().length&&e.html("<option>請選擇品牌</option>")}),uc_api.get("/brands.json",{per:9999},function(t){e.each(function(){for(var e=$(this),i=e.attr("uc-value"),s=0;t.length>s;s++){var n=t[s],o=n.id+""==i?' selected="selected"':"";e.append("<option"+o+' value="'+n.id+'">'+n.name+"</option>")}e.trigger("uc:brands-select-fetched"),(e.hasClass("chosen")||e.attr("uc-chosen")||e.next().hasClass("chosen-container"))&&e.trigger("chosen:updated")})})},$(document).ready(function(){var e=$("select[uc-brands-select]");e.length>0&&uc_api.trigger_brands_select(e)}),$(document).ready(function(){$("[uc-chosen]").each(function(){var dom=$(this),opts=dom.attr("uc-chosen").length>0?eval("({"+dom.attr("uc-chosen")+"})"):{};dom.chosen(opts)})}),uc_api.has_chosen=function(e){return $(e).next().hasClass("chosen-container")},uc_api.scroll=function(e,t){if(t=t||800,t=parseInt(t),isNaN(parseInt(e)))var i=$(e).offset(),s=i?i.top:0;else var s=parseInt(e);return $("body,html").animate({scrollTop:s},t),!1},$(document).ready(function(){$("[uc-scroll]").each(function(){var e=$(this);e.bind("click",function(){return uc_api.scroll(e.attr("uc-scroll"),e.attr("uc-duration")),"#"==e.attr("href")?!1:void 0})})});var selects=$("select[uc-issues-select]");if(selects.length>0){var me=!1;uc_api.get("/issues.json",null,function(e){selects.each(function(){var t=$(this),s=[];for(uc_api.signed_in&&"me"==t.attr("uc-issues-select")&&(me=!0),t.html(""),i=0;e.length>i;i++){var n=e[i];-1==s.indexOf(n.type_name)&&(t.append('<optgroup label="'+n.type_name+'"></optgroup>'),s.push(n.type_name)),t.find('optgroup[label="'+n.type_name+'"]').append('<option value="'+n.id+'">'+n.name+"</option>")}uc_api.has_chosen(t)&&t.trigger("chosen:updated")}),me&&uc_api.get("/member/issues.json",{member_token:uc_api.member_token},function(e){$("select[uc-issues-select=me]").each(function(){var t=$(this);for(i=0;e.length>i;i++){var s=e[i].id;t.find("option[value="+s+"]").prop("selected",!0)}uc_api.has_chosen(t)&&t.trigger("chosen:updated")})})})}$(document).ready(function(){$("[uc-review-like]").length>0&&uc_api.signed_in&&uc_api.get("/member/liked_reivew_ids.json",{member_token:uc_api.member_token},function(e){for(var t=0;e.length>t;t++){var i=e[t],s=$("[uc-review-like="+i.review_id+"]");s.length>0&&(s.addClass("added"),s.unbind("uc:review-liking"),s.css("cursor","auto"))}}),$("[uc-review-like]").each(function(){var e=$(this);e.css("cursor","pointer");var t=e.attr("uc-review-like");uc_api.signed_in?e.bind("uc:review-liking",function(){uc_api.post("/reviews/"+t+"/likes.json",{member_token:uc_api.member_token},function(){e.unbind("uc:review-liking"),e.trigger("uc:review-liked"),e.css("cursor","auto"),e.fadeOut(500,function(){e.addClass("added"),e.fadeIn(500)})})}):e.bind("uc:review-liking",function(){alert("請先登入"),uc_api.redirect_to_sign_in()}),e.bind("click",function(){e.trigger("uc:review-liking")})})}),/* ===========================================================
 * bootstrap-modal.js v2.1
 * ===========================================================
 * Copyright 2012 Jordan Schroter
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init(e,t)};t.prototype={constructor:t,init:function(t,i){this.options=i,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote);var s="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;s=s.appendModal?s:e(s).modalmanager().data("modalmanager"),s.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=e.Event("show");this.isShown||(this.$element.trigger(t),t.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(t){return t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),!this.isShown||t.isDefaultPrevented()?this.isShown=!1:(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),e(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal(),void 0)},layout:function(){var t=this.options.height?"height":"max-height",i=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var s=this;this.$element.css("margin-left",function(){return/%/gi.test(s.options.width)?-(parseInt(s.options.width)/2)+"%":-(e(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(t,""),i&&this.$element.find(".modal-body").css("overflow","auto").css(t,i);var n=e(window).height()-10<this.$element.height();n||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var t=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(i){if(i.keyCode&&9==i.keyCode){var s=e(this),n=e(this);t.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(t){s=t.shiftKey?s.data("tabindex")>e(this).data("tabindex")?s=e(this):n=e(this):s.data("tabindex")<e(this).data("tabindex")?s=e(this):n=e(this)}),s[0]!==e(this)[0]?s.focus():n.focus(),i.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var e=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i),t.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden");var e=this.options.height?"height":"max-height",t=this.options.height||this.options.maxHeight;t&&this.$element.find(".modal-body").css("overflow","").css(e,"")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(t){t=t||function(){};var i=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var s=this;e.support.transition&&this.$element.hasClass("fade")?this.$loading.one(e.support.transition.end,function(){s.removeLoading()}):s.removeLoading()}else t&&t(this.isLoading);else{var n=e.support.transition&&i;this.$loading=e('<div class="loading-mask '+i+'">').append(this.options.spinner).appendTo(this.$element),n&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,n?this.$loading.one(e.support.transition.end,t):t()}},focus:function(){var e=this.$element.find(this.options.focusOn);e=e.length?e:this.$element,e.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var e=this;setTimeout(function(){e.$element.addClass("animated").addClass(e.options.attentionAnimation)},0)}this.focus()},destroy:function(){var t=e.Event("destroy");this.$element.trigger(t),t.isDefaultPrevented()||this.teardown()},teardown:function(){return this.$parent.length?(this.$parent!==this.$element.parent()&&this.$element.appendTo(this.$parent),this.$element.off(".modal"),this.$element.removeData("modal"),this.$element.removeClass("in").attr("aria-hidden",!0),void 0):(this.$element.remove(),this.$element=null,void 0)}},e.fn.modal=function(i,s){return this.each(function(){var n=e(this),o=n.data("modal"),a=e.extend({},e.fn.modal.defaults,n.data(),"object"==typeof i&&i);o||n.data("modal",o=new t(this,a)),"string"==typeof i?o[i].apply(o,[].concat(s)):a.show&&o.show()})},e.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>'},e.fn.modal.Constructor=t,e(function(){e(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),s=i.attr("href"),n=e(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("modal")?"toggle":e.extend({remote:!/#/.test(s)&&s},n.data(),i.data());t.preventDefault(),n.modal(o).one("hide",function(){i.focus()})})})}(window.jQuery),/* ===========================================================
 * bootstrap-modalmanager.js v2.1
 * ===========================================================
 * Copyright 2012 Jordan Schroter.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";function t(e){return function(t){return this===t.target?e.apply(this,arguments):void 0}}var i=function(e,t){this.init(e,t)};i.prototype={constructor:i,init:function(t,i){if(this.$element=e(t),this.options=e.extend({},e.fn.modalmanager.defaults,this.$element.data(),"object"==typeof i&&i),this.stack=[],this.backdropCount=0,this.options.resize){var s,n=this;e(window).on("resize.modal",function(){s&&clearTimeout(s),s=setTimeout(function(){for(var e=0;n.stack.length>e;e++)n.stack[e].isShown&&n.stack[e].layout()},10)})}},createModal:function(t,i){e(t).modal(e.extend({manager:this},i))},appendModal:function(i){this.stack.push(i);var s=this;i.$element.on("show.modalmanager",t(function(){var t=function(){i.isShown=!0;var t=e.support.transition&&i.$element.hasClass("fade");s.$element.toggleClass("modal-open",s.hasOpenModal()).toggleClass("page-overflow",e(window).height()<s.$element.height()),i.$parent=i.$element.parent(),i.$container=s.createContainer(i),i.$element.appendTo(i.$container),s.backdrop(i,function(){i.$element.show(),t&&i.$element[0].offsetWidth,i.layout(),i.$element.addClass("in").attr("aria-hidden",!1);var n=function(){s.setFocus(),i.$element.trigger("shown")};t?i.$element.one(e.support.transition.end,n):n()})};i.options.replace?s.replace(t):t()})),i.$element.on("hidden.modalmanager",t(function(){s.backdrop(i),i.$backdrop?e.support.transition&&i.$element.hasClass("fade")?i.$backdrop.one(e.support.transition.end,function(){s.destroyModal(i)}):s.destroyModal(i):s.destroyModal(i)})),i.$element.on("destroy.modalmanager",t(function(){s.removeModal(i)}))},destroyModal:function(e){e.destroy();var t=this.hasOpenModal();this.$element.toggleClass("modal-open",t),t||this.$element.removeClass("page-overflow"),this.removeContainer(e),this.setFocus()},hasOpenModal:function(){for(var e=0;this.stack.length>e;e++)if(this.stack[e].isShown)return!0;return!1},setFocus:function(){for(var e,t=0;this.stack.length>t;t++)this.stack[t].isShown&&(e=this.stack[t]);e&&e.focus()},removeModal:function(e){e.$element.off(".modalmanager"),e.$backdrop&&this.removeBackdrop(e),this.stack.splice(this.getIndexOfModal(e),1)},getModalAt:function(e){return this.stack[e]},getIndexOfModal:function(e){for(var t=0;this.stack.length>t;t++)if(e===this.stack[t])return t},replace:function(i){for(var s,n=0;this.stack.length>n;n++)this.stack[n].isShown&&(s=this.stack[n]);s?(this.$backdropHandle=s.$backdrop,s.$backdrop=null,i&&s.$element.one("hidden",t(e.proxy(i,this))),s.hide()):i&&i()},removeBackdrop:function(e){e.$backdrop.remove(),e.$backdrop=null},createBackdrop:function(t){var i;return this.$backdropHandle?(i=this.$backdropHandle,i.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):i=e('<div class="modal-backdrop '+t+'" />').appendTo(this.$element),i},removeContainer:function(e){e.$container.remove(),e.$container=null},createContainer:function(i){var n;return n=e('<div class="modal-scrollable">').css("z-index",s("modal",i?this.getIndexOfModal(i):this.stack.length)).appendTo(this.$element),i&&"static"!=i.options.backdrop?n.on("click.modal",t(function(){i.hide()})):i&&n.on("click.modal",t(function(){i.attention()})),n},backdrop:function(t,i){var n=t.$element.hasClass("fade")?"fade":"",o=t.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(t.isShown&&o){var a=e.support.transition&&n&&!this.$backdropHandle;t.$backdrop=this.createBackdrop(n),t.$backdrop.css("z-index",s("backdrop",this.getIndexOfModal(t))),a&&t.$backdrop[0].offsetWidth,t.$backdrop.addClass("in"),this.backdropCount+=1,a?t.$backdrop.one(e.support.transition.end,i):i()}else if(!t.isShown&&t.$backdrop){t.$backdrop.removeClass("in"),this.backdropCount-=1;var r=this;e.support.transition&&t.$element.hasClass("fade")?t.$backdrop.one(e.support.transition.end,function(){r.removeBackdrop(t)}):r.removeBackdrop(t)}else i&&i()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(t){if(t=t||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",e(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var i=this;e.support.transition?this.$backdropHandle.one(e.support.transition.end,function(){i.removeLoading()}):i.removeLoading()}else t&&t(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade"),this.$backdropHandle[0].offsetWidth,this.$backdropHandle.css("z-index",s("backdrop",this.stack.length)).addClass("in");var n=e(this.options.spinner).css("z-index",s("modal",this.stack.length)).appendTo(this.$element).addClass("in");this.$spinner=e(this.createContainer()).append(n).on("click.modalmanager",e.proxy(this.loading,this)),this.isLoading=!0,e.support.transition?this.$backdropHandle.one(e.support.transition.end,t):t()}}};var s=function(){var t,i={};return function(s,n){if("undefined"==typeof t){var o=e('<div class="modal hide" />').appendTo("body"),a=e('<div class="modal-backdrop hide" />').appendTo("body");i.modal=+o.css("z-index"),i.backdrop=+a.css("z-index"),t=i.modal-i.backdrop,o.remove(),a.remove(),a=o=null}return i[s]+t*n}}();e.fn.modalmanager=function(t,s){return this.each(function(){var n=e(this),o=n.data("modalmanager");o||n.data("modalmanager",o=new i(this,t)),"string"==typeof t&&o[t].apply(o,[].concat(s))})},e.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>'},e.fn.modalmanager.Constructor=i}(jQuery),/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
function(e,t,i,s){"use strict";var n=i("html"),o=i(e),a=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,h=t.createTouch!==s,u=function(e){return e&&e.hasOwnProperty&&e instanceof i},d=function(e){return e&&"string"===i.type(e)},p=function(e){return d(e)&&e.indexOf("%")>0},f=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},m=function(e,t){var i=parseInt(e,10)||0;return t&&p(e)&&(i=r.getViewport()[t]/100*i),Math.ceil(i)},_=function(e,t){return m(e,t)+"px"};i.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==r.close(!0))?(i.isArray(e)||(e=u(e)?i(e).get():[e]),i.each(e,function(n,o){var a,l,c,h,p,f,m,_={};"object"===i.type(o)&&(o.nodeType&&(o=i(o)),u(o)?(_={href:o.data("fancybox-href")||o.attr("href"),title:o.data("fancybox-title")||o.attr("title"),isDom:!0,element:o},i.metadata&&i.extend(!0,_,o.metadata())):_=o),a=t.href||_.href||(d(o)?o:null),l=t.title!==s?t.title:_.title||"",c=t.content||_.content,h=c?"html":t.type||_.type,!h&&_.isDom&&(h=o.data("fancybox-type"),h||(p=o.prop("class").match(/fancybox\.(\w+)/),h=p?p[1]:null)),d(a)&&(h||(r.isImage(a)?h="image":r.isSWF(a)?h="swf":"#"===a.charAt(0)?h="inline":d(o)&&(h="html",c=o)),"ajax"===h&&(f=a.split(/\s+/,2),a=f.shift(),m=f.shift())),c||("inline"===h?a?c=i(d(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):_.isDom&&(c=o):"html"===h?c=a:h||a||!_.isDom||(h="inline",c=o)),i.extend(_,{href:a,type:h,content:c,title:l,selector:m}),e[n]=_}),r.opts=i.extend(!0,{},r.defaults,t),t.keys!==s&&(r.opts.keys=t.keys?i.extend({},r.defaults.keys,t.keys):!1),r.group=e,r._start(r.opts.index)):void 0},cancel:function(){var e=r.coming;e&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&e!==!0?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(r.player.timer)},i=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},s=function(){t(),a.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")},n=function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,a.bind({"onCancel.player beforeClose.player":s,"onUpdate.player":i,"beforeLoad.player":t}),i(),r.trigger("onPlayStart"))};e===!0||!r.player.isActive&&e!==!1?n():s()},next:function(e){var t=r.current;t&&(d(e)||(e=t.direction.next),r.jumpto(t.index+1,e,"next"))},prev:function(e){var t=r.current;t&&(d(e)||(e=t.direction.prev),r.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var n=r.current;n&&(e=m(e),r.direction=t||n.direction[e>=n.index?"next":"prev"],r.router=i||"jumpto",n.loop&&(0>e&&(e=n.group.length+e%n.group.length),e%=n.group.length),n.group[e]!==s&&(r.cancel(),r._start(e)))},reposition:function(e,t){var s,n=r.current,o=n?n.wrap:null;o&&(s=r._getPosition(t),e&&"scroll"===e.type?(delete s.position,o.stop(!0,!0).animate(s,200)):(o.css(s),n.pos=i.extend({},n.dim,s)))},update:function(e){var t=e&&e.type,i=!t||"orientationchange"===t;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var s=r.current;s&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&s.autoResize)&&r._setDimension(),"scroll"===t&&s.canShrink||r.reposition(e),r.trigger("onUpdate"),c=null)},i&&!h?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView="boolean"===i.type(e)?e:!r.current.fitToView,h&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){a.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var e,t;r.hideLoading(),e=i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),a.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),r.cancel())}),r.defaults.fixed||(t=r.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=r.current&&r.current.locked||!1,i={x:o.scrollLeft(),y:o.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=h&&e.innerWidth?e.innerWidth:o.width(),i.h=h&&e.innerHeight?e.innerHeight:o.height()),i},unbindEvents:function(){r.wrap&&u(r.wrap)&&r.wrap.unbind(".fb"),a.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var e,t=r.current;t&&(o.bind("orientationchange.fb"+(h?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),r.update),e=t.keys,e&&a.bind("keydown.fb",function(n){var o=n.which||n.keyCode,a=n.target||n.srcElement;return 27===o&&r.coming?!1:(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||a&&(a.type||i(a).is("[contenteditable]"))||i.each(e,function(e,a){return t.group.length>1&&a[o]!==s?(r[e](a[o]),n.preventDefault(),!1):i.inArray(o,a)>-1?(r[e](),n.preventDefault(),!1):void 0}),void 0)}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind("mousewheel.fb",function(e,s,n,o){for(var a=e.target||null,l=i(a),c=!1;l.length&&!(c||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)c=f(l[0]),l=i(l).parent();0===s||c||r.group.length>1&&!t.canShrink&&(o>0||n>0?r.prev(o>0?"down":"left"):(0>o||0>n)&&r.next(0>o?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var s,n=t||r.coming||r.current;if(n){if(i.isFunction(n[e])&&(s=n[e].apply(n,Array.prototype.slice.call(arguments,1))),s===!1)return!1;n.helpers&&i.each(n.helpers,function(t,s){s&&r.helpers[t]&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](i.extend(!0,{},r.helpers[t].defaults,s),n)}),a.trigger(e)}},isImage:function(e){return d(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return d(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,s,n,o,a,l={};if(e=m(e),t=r.group[e]||null,!t)return!1;if(l=i.extend(!0,{},r.opts,t),o=l.margin,a=l.padding,"number"===i.type(o)&&(l.margin=[o,o,o,o]),"number"===i.type(a)&&(l.padding=[a,a,a,a]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=e,r.coming=l,!1===r.trigger("beforeLoad"))return r.coming=null,void 0;if(n=l.type,s=l.href,!n)return r.coming=null,r.current&&r.router&&"jumpto"!==r.router?(r.current.index=e,r[r.router](r.direction)):!1;if(r.isActive=!0,("image"===n||"swf"===n)&&(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===n&&(l.aspectRatio=!0),"iframe"===n&&h&&(l.scrolling="scroll"),l.wrap=i(l.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),i.extend(l,{skin:i(".fancybox-skin",l.wrap),outer:i(".fancybox-outer",l.wrap),inner:i(".fancybox-inner",l.wrap)}),i.each(["Top","Right","Bottom","Left"],function(e,t){l.skin.css("padding"+t,_(l.padding[e]))}),r.trigger("onReady"),"inline"===n||"html"===n){if(!l.content||!l.content.length)return r._error("content")}else if(!s)return r._error("href");"image"===n?r._loadImage():"ajax"===n?r._loadAjax():"iframe"===n?r._loadIframe():r._afterLoad()},_error:function(e){i.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error("image")},e.src=r.coming.href,e.complete!==!0&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&"abort"!==t?r._error("ajax",e):r.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t=i(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",h?"auto":e.iframe.scrolling).attr("src",e.href);i(e.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(r.showLoading(),t.one("load",function(){i(this).data("ready",1),h||i(this).bind("load.fb",r.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var e,t,i=r.group,s=r.current,n=i.length,o=s.preload?Math.min(s.preload,n-1):0;for(t=1;o>=t;t+=1)e=i[(s.index+t)%n],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,s,n,o,a,l=r.coming,c=r.current,h="fancybox-placeholder";if(r.hideLoading(),l&&r.isActive!==!1){if(!1===r.trigger("afterLoad",l,c))return l.wrap.stop(!0).trigger("onReset").remove(),r.coming=null,void 0;switch(c&&(r.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),e=l,t=l.content,s=l.type,n=l.scrolling,i.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),o=e.href,s){case"inline":case"ajax":case"html":e.selector?t=i("<div>").html(t).find(e.selector):u(t)&&(t.data(h)||t.data(h,i('<div class="'+h+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(h)).data(h,!1)}));break;case"image":t=e.tpl.image.replace("{href}",o);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',a="",i.each(e.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',a+=" "+e+'="'+i+'"'}),t+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}u(t)&&t.parent().is(e.inner)||e.inner.append(t),r.trigger("beforeShow"),e.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,t,s,n,o,a,l,c,h,u,d,f,g,v,b,y=r.getViewport(),w=0,x=!1,k=!1,$=r.wrap,C=r.skin,M=r.inner,O=r.current,D=O.width,E=O.height,T=O.minWidth,j=O.minHeight,S=O.maxWidth,A=O.maxHeight,I=O.scrolling,P=O.scrollOutside?O.scrollbarWidth:0,L=O.margin,N=m(L[1]+L[3]),W=m(L[0]+L[2]);if($.add(C).add(M).width("auto").height("auto").removeClass("fancybox-tmp"),e=m(C.outerWidth(!0)-C.width()),t=m(C.outerHeight(!0)-C.height()),s=N+e,n=W+t,o=p(D)?(y.w-s)*m(D)/100:D,a=p(E)?(y.h-n)*m(E)/100:E,"iframe"===O.type){if(v=O.content,O.autoHeight&&1===v.data("ready"))try{v[0].contentWindow.document.location&&(M.width(o).height(9999),b=v.contents().find("body"),P&&b.css("overflow-x","hidden"),a=b.outerHeight(!0))}catch(H){}}else(O.autoWidth||O.autoHeight)&&(M.addClass("fancybox-tmp"),O.autoWidth||M.width(o),O.autoHeight||M.height(a),O.autoWidth&&(o=M.width()),O.autoHeight&&(a=M.height()),M.removeClass("fancybox-tmp"));if(D=m(o),E=m(a),h=o/a,T=m(p(T)?m(T,"w")-s:T),S=m(p(S)?m(S,"w")-s:S),j=m(p(j)?m(j,"h")-n:j),A=m(p(A)?m(A,"h")-n:A),l=S,c=A,O.fitToView&&(S=Math.min(y.w-s,S),A=Math.min(y.h-n,A)),f=y.w-N,g=y.h-W,O.aspectRatio?(D>S&&(D=S,E=m(D/h)),E>A&&(E=A,D=m(E*h)),T>D&&(D=T,E=m(D/h)),j>E&&(E=j,D=m(E*h))):(D=Math.max(T,Math.min(D,S)),O.autoHeight&&"iframe"!==O.type&&(M.width(D),E=M.height()),E=Math.max(j,Math.min(E,A))),O.fitToView)if(M.width(D).height(E),$.width(D+e),u=$.width(),d=$.height(),O.aspectRatio)for(;(u>f||d>g)&&D>T&&E>j&&!(w++>19);)E=Math.max(j,Math.min(A,E-10)),D=m(E*h),T>D&&(D=T,E=m(D/h)),D>S&&(D=S,E=m(D/h)),M.width(D).height(E),$.width(D+e),u=$.width(),d=$.height();else D=Math.max(T,Math.min(D,D-(u-f))),E=Math.max(j,Math.min(E,E-(d-g)));P&&"auto"===I&&a>E&&f>D+e+P&&(D+=P),M.width(D).height(E),$.width(D+e),u=$.width(),d=$.height(),x=(u>f||d>g)&&D>T&&E>j,k=O.aspectRatio?l>D&&c>E&&o>D&&a>E:(l>D||c>E)&&(o>D||a>E),i.extend(O,{dim:{width:_(u),height:_(d)},origWidth:o,origHeight:a,canShrink:x,canExpand:k,wPadding:e,hPadding:t,wrapSpace:d-C.outerHeight(!0),skinSpace:C.height()-E}),!v&&O.autoHeight&&E>j&&A>E&&!k&&M.height("auto")},_getPosition:function(e){var t=r.current,i=r.getViewport(),s=t.margin,n=r.wrap.width()+s[1]+s[3],o=r.wrap.height()+s[0]+s[2],a={position:"absolute",top:s[0],left:s[3]};return t.autoCenter&&t.fixed&&!e&&i.h>=o&&i.w>=n?a.position="fixed":t.locked||(a.top+=i.y,a.left+=i.x),a.top=_(Math.max(a.top,a.top+(i.h-o)*t.topRatio)),a.left=_(Math.max(a.left,a.left+(i.w-n)*t.leftRatio)),a},_afterZoomIn:function(){var e=r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(e.closeClick||e.nextClick&&r.group.length>1)&&r.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||(t.preventDefault(),r[e.closeClick?"close":"next"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(e){e.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),e.loop||e.index!==e.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(e){e=e||r.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",e)}}),r.transitions={getOrigPosition:function(){var e=r.current,t=e.element,i=e.orig,s={},n=50,o=50,a=e.hPadding,l=e.wPadding,c=r.getViewport();return!i&&e.isDom&&t.is(":visible")&&(i=t.find("img:first"),i.length||(i=t)),u(i)?(s=i.offset(),i.is("img")&&(n=i.outerWidth(),o=i.outerHeight())):(s.top=c.y+(c.h-o)*e.topRatio,s.left=c.x+(c.w-n)*e.leftRatio),("fixed"===r.wrap.css("position")||e.locked)&&(s.top-=c.y,s.left-=c.x),s={top:_(s.top-a*e.topRatio),left:_(s.left-l*e.leftRatio),width:_(n+l),height:_(o+a)}},step:function(e,t){var i,s,n,o=t.prop,a=r.current,l=a.wrapSpace,c=a.skinSpace;("width"===o||"height"===o)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),r.isClosing&&(i=1-i),s="width"===o?a.wPadding:a.hPadding,n=e-s,r.skin[o](m("width"===o?n:n-l*i)),r.inner[o](m("width"===o?n:n-l*i-c*i)))},zoomIn:function(){var e=r.current,t=e.pos,s=e.openEffect,n="elastic"===s,o=i.extend({opacity:1},t);delete o.position,n?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===s&&(t.opacity=.1),r.wrap.css(t).animate(o,{duration:"none"===s?0:e.openSpeed,easing:e.openEasing,step:n?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var e=r.current,t=e.closeEffect,i="elastic"===t,s={opacity:.1};i&&(s=this.getOrigPosition(),e.closeOpacity&&(s.opacity=.1)),r.wrap.animate(s,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var e,t=r.current,i=t.nextEffect,s=t.pos,n={opacity:1},o=r.direction,a=200;s.opacity=.1,"elastic"===i&&(e="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(s[e]=_(m(s[e])-a),n[e]="+="+a+"px"):(s[e]=_(m(s[e])+a),n[e]="-="+a+"px")),"none"===i?r._afterZoomIn():r.wrap.css(s).animate(n,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.previous,t=e.prevEffect,s={opacity:.1},n=r.direction,o=200;"elastic"===t&&(s["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"="+o+"px"),e.wrap.animate(s,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!h,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:e.parent),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(o.bind("resize.overlay",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return i(e.target).hasClass("fancybox-overlay")?(r.isActive?r.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;o.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),e=o.scrollTop(),t=o.scrollLeft(),this.el.removeClass("fancybox-lock"),o.scrollTop(e).scrollLeft(t)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i="100%";this.overlay.width(i).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),a.width()>e&&(i=a.width())):a.width()>o.width()&&(i=a.width()),this.overlay.width(i).height(a.height())},onReady:function(e,t){var s=this.overlay;i(".fancybox-overlay").stop(!0,!0),s||this.create(e),e.locked&&this.fixed&&t.fixed&&(s||(this.margin=a.height()>o.height()?i("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var s,n;t.locked&&(this.margin!==!1&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),s=o.scrollTop(),n=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(s).scrollLeft(n)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,s,n=r.current,o=n.title,a=e.type;if(i.isFunction(o)&&(o=o.call(n.element,n)),d(o)&&""!==i.trim(o)){switch(t=i('<div class="fancybox-title fancybox-title-'+a+'-wrap">'+o+"</div>"),a){case"inside":s=r.skin;break;case"outside":s=r.wrap;break;case"over":s=r.inner;break;default:s=r.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(m(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](s)}}},i.fn.fancybox=function(e){var t,s=i(this),n=this.selector||"",o=function(o){var a,l,c=i(this).blur(),h=t;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||c.is(".fancybox-wrap")||(a=e.groupAttr||"data-fancybox-group",l=c.attr(a),l||(a="rel",l=c.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(c=n.length?i(n):s,c=c.filter("["+a+'="'+l+'"]'),h=c.index(this)),e.index=h,r.open(c,e)!==!1&&o.preventDefault())};return e=e||{},t=e.index||0,n&&e.live!==!1?a.undelegate(n,"click.fb-start").delegate(n+":not('.fancybox-item, .fancybox-nav')","click.fb-start",o):s.unbind("click.fb-start").bind("click.fb-start",o),this.filter("[data-fancybox-start=1]").trigger("click"),this},a.ready(function(){var t,o;i.scrollbarWidth===s&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),s=t.innerWidth()-t.height(99).innerWidth();return e.remove(),s}),i.support.fixedPosition===s&&(i.support.fixedPosition=function(){var e=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),t=i(e).width(),n.addClass("fancybox-lock-test"),o=i(e).width(),n.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(o-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),uc_api.text_roll=function(e){var e=$(e);if(e.attr("uc-text-roll-initialized"))return!0;var t=parseInt(e.attr("uc-offset"))||e.height(),i=parseInt(e.attr("uc-interval"))||2e3,s=parseInt(e.attr("uc-speed"))||200;e.css("overflow","hidden"),e.find("li").css("position","relative"),e.roll=function(){var i=e.find("li");if(i.length>0){var n=i.first();e.find("li").animate({top:"-="+t},s,function(){e.append(n.remove()),e.find("li").css("top","0")})}},setInterval(function(){e.roll()},i),e.attr("uc-text-roll-initialized","true")},$(document).ready(function(){$("[uc-text-roll]").each(function(){uc_api.text_roll(this)})}),function(){var e;e=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,i,s,n,o;for(t="",o=this.results_data,s=0,n=o.length;n>s;s++)i=o[s],t+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match?this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,this.outerHTML(i)):"":""},e.prototype.result_add_group=function(e){var t;return e.search_match||e.group_match?e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):"":""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,i,s,n;for(s=this.results_data,n=[],t=0,i=s.length;i>t;t++)e=s[t],e.selected?n.push(e.selected=!1):n.push(void 0);return n},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,s,n,o,a,r,l,c,h,u,d;for(this.no_results_clear(),n=0,a=this.get_search_text(),e=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=this.search_contains?"":"^",i=new RegExp(s+e,"i"),c=new RegExp(e,"i"),d=this.results_data,h=0,u=d.length;u>h;h++)t=d[h],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(n+=1),o.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(n+=1),t.search_match?(a.length&&(r=t.search_text.search(c),l=t.search_text.substr(0,r+a.length)+"</em>"+t.search_text.substr(r+a.length),t.search_text=l.substr(0,r)+"<em>"+l.substr(r)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>n&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var i,s,n,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(s=e.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,o=s.length;o>n;n++)if(i=s[n],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,t=0,i=s.length;i>t;t++)e=s[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&1>this.backstroke_length&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),window.AbstractChosen=e}.call(this),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,n,o,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),o=e.childNodes,a=[],s=0,n=o.length;n>s;s++)i=o[s],a.push(this.add_option(i,t,e.disabled));return a},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"
})):e},e}(),e.select_to_array=function(t){var i,s,n,o,a;for(s=new e,a=t.childNodes,n=0,o=a.length;o>n;n++)i=a[n],s.add_node(i);return s.parsed},window.SelectParser=e}.call(this),function(){var e,t,i,s={}.hasOwnProperty,n=function(e,t){function i(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=jQuery,e.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var s,n;s=e(this),n=s.data("chosen"),"destroy"===i&&n?n.destroy():n||s.data("chosen",new t(this,i))}):this}}),t=function(t){function s(){return i=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},s.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},s.prototype.destroy=function(){return e(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},s.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},s.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return e(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(t){return this.container.is(e(t.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(e){var t,i,s,n,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=s+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=n)return this.search_results.scrollTop(t-s>0?t-s:0);if(o>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},s.prototype.update_results_content=function(e){return this.search_results.html(e)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},s.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&1>this.choices_count()&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(t){var i,s,n=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(s=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),s.bind("click.chosen",function(e){return n.choice_destroy_link_click(e)}),i.append(s)),this.search_container.before(i)},s.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},s.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&1>this.search_field.val().length&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(e){var t,i;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},s.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},s.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},s.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},s.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var t,i,s,n,o,a,r,l,c;if(this.is_multiple){for(s=0,r=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=a.length;c>l;l++)n=a[l],o+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),r=t.width()+25,t.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},s}(AbstractChosen)}.call(this),/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function i(t,i){var n,o,a,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,o=n.name,t.href&&o&&"map"===n.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&s(a)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var s,n,o=e(this[0]);o.length&&o[0]!==document;){if(s=o.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var s=e.attr(t,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(t,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,s){function n(t,i,s,n){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===s?["Left","Right"]:["Top","Bottom"],a=s.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?r["inner"+s].call(this):this.each(function(){e(this).css(a,n(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?r["outer"+s].call(this,t):this.each(function(){e(this).css(a,n(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,s){var n,o=e.ui[t].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(e,t,i){var s,n=e.plugins[t];if(n&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(s=0;n.length>s;s++)e.options[n[s][0]]&&n[s][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(o){}n(t)},e.widget=function(t,i,s){var n,o,a,r,l={},c=t.split(".")[0];t=t.split(".")[1],n=c+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new a(e,t)},e.extend(a,o,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=o,t}}(),void 0):(l[t]=s,void 0)}),a.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:n}),o?(e.each(o._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,l=a.length;l>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==t&&(i[n]=e.isPlainObject(o)?e.isPlainObject(i[n])?e.widget.extend({},i[n],o):e.widget.extend({},o):o);return i},e.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;e.fn[i]=function(a){var r="string"==typeof a,l=s.call(arguments,1),c=this;return a=!r&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var s,n=e.data(this,o);return n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,l),s!==n&&s!==t?(c=s&&s.jquery?c.pushStack(s.get()):s,!1):void 0):e.error("no such method '"+a+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new n(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=e.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),s===t)return o[i]===t?null:o[i];o[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,s){var n,o=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,a){function r(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=s.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?n.delegate(h,c,r):i.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,o,a=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),a=!e.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){e(this)[t](),o&&o.call(s[0]),i()})}})}(jQuery),/*!
 * jQuery UI Mouse 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Slider 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)a.push(o);this.handles=n.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,o,a,r,l,c,h=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-h.values(t));(n>i||n===i&&(t===h._lastChangedValue||h.values(t)===u.min))&&(n=i,o=e(this),a=t)}),r=this._start(t,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),o!==!1&&this.values(t,i,!0))):i!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:i}),o!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,n,o,a=this.options.range,r=this.options,l=this,c=this._animateOff?!1:r.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](h,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,o,a,r=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(a=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-a)}this._slide(i,r,o)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery);
